<root>
<CONSULTAR_DETALLE_ANEXOS>
  <sql>
        SELECT
        ANX_ID AS ID,
        E.NUM_DOCUMENTO AS DOCUMENTO,
        CONCAT(E.EMPL_PRIMER_NOMBRE,' ',E.EMPLE_SEGUNDO_NOMBRE,' ',E.EMPL_PRIMER_APELLIDO,' ',E.EMPL_SEGUNDO_APELLIDO) AS EMPLEADO,
        DATE(ANX_FECHA_DOCUMENTO) AS FECHA_REGISTRO,
        ANX_DESCRIPCION AS DESCRIPCION,
        TANX_NOMBRE AS TIPO_ANEXO,
        TANX_ID AS ID_TIPO,
        ANX_RUTA AS RUTA,
        ANX_NOMBRE AS NOMBRE
        FROM
        ANEXOS AX
        INNER JOIN CONTRATO CT ON CT.CTRA_ID = AX.CTRA_ID
        INNER JOIN EMPLEADOS E ON E.EMPL_ID = CT.EMPL_ID
        INNER JOIN TIPO_ANEXO USING(TANX_ID)
        WHERE CT.CTRA_ID = (SELECT CTRA_ID FROM CONTRATO WHERE CTRA_NUMERO = ?);
  </sql>
</CONSULTAR_DETALLE_ANEXOS>
<UPDATE_ANEXOS>
  <sql>
      UPDATE ANEXOS SET 
      ANX_FECHA_DOCUMENTO = ?,
      ANX_DESCRIPCION = ?,
      TANX_ID = ?
      WHERE ANX_ID = ?;
  </sql>
</UPDATE_ANEXOS>
<ELIMINAR_ANEXOS>
  <sql>
  UPDATE ANEXOS SET ANX_ESTADO='I' WHERE ANX_ID = ?;
  </sql>
</ELIMINAR_ANEXOS>
<LISTAR_TIPO_ANEXO>
    <sql>
     SELECT
        TANX_ID AS ID,
        TANX_NOMBRE AS DESCRIPCION 	
        FROM
        TIPO_ANEXO
        WHERE TANX_ESTADO = 'A'
    </sql>
</LISTAR_TIPO_ANEXO>
</root>